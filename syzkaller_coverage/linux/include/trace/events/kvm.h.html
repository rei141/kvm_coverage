<doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
<style>
    code{
        font-family:Monaco, Menlo, Consolas, 'Courier New', Courier, monospace, sans-serif;
        font-size: 14px;
        line-height: 18px;
        overflow: auto;
        resize: horizontal;
    }
    code_line{
        font-family: Monaco, Menlo, Consolas, 'Courier New', Courier, monospace, sans-serif;;
        font-size: 14px;
        line-height: 18px;
        overflow: auto;
        resize: horizontal;
        color:#303134;
    }
    blue{
        background-color:#BEEDE8;
    }
    yellow{
        background-color:#FFFF99;
    }
    red{
        background-color:#FF99AC;
    }
</style>

</head>
<body>
<table summary='blob content' class='blob' cellspacing="15">
<tr><td align="right"><pre><code_line>1.<br>2.<br>3.<br>4.<br>5.<br>6.<br>7.<br>8.<br>9.<br>10.<br>11.<br>12.<br>13.<br>14.<br>15.<br>16.<br>17.<br>18.<br>19.<br>20.<br>21.<br>22.<br>23.<br>24.<br>25.<br>26.<br>27.<br>28.<br>29.<br>30.<br>31.<br>32.<br>33.<br>34.<br>35.<br>36.<br>37.<br>38.<br>39.<br>40.<br>41.<br>42.<br>43.<br>44.<br>45.<br>46.<br>47.<br>48.<br>49.<br>50.<br>51.<br>52.<br>53.<br>54.<br>55.<br>56.<br>57.<br>58.<br>59.<br>60.<br>61.<br>62.<br>63.<br>64.<br>65.<br>66.<br>67.<br>68.<br>69.<br>70.<br>71.<br>72.<br>73.<br>74.<br>75.<br>76.<br>77.<br>78.<br>79.<br>80.<br>81.<br>82.<br>83.<br>84.<br>85.<br>86.<br>87.<br>88.<br>89.<br>90.<br>91.<br>92.<br>93.<br>94.<br>95.<br>96.<br>97.<br>98.<br>99.<br>100.<br>101.<br>102.<br>103.<br>104.<br>105.<br>106.<br>107.<br>108.<br>109.<br>110.<br>111.<br>112.<br>113.<br>114.<br>115.<br>116.<br>117.<br>118.<br>119.<br>120.<br>121.<br>122.<br>123.<br>124.<br>125.<br>126.<br>127.<br>128.<br>129.<br>130.<br>131.<br>132.<br>133.<br>134.<br>135.<br>136.<br>137.<br>138.<br>139.<br>140.<br>141.<br>142.<br>143.<br>144.<br>145.<br>146.<br>147.<br>148.<br>149.<br>150.<br>151.<br>152.<br>153.<br>154.<br>155.<br>156.<br>157.<br>158.<br>159.<br>160.<br>161.<br>162.<br>163.<br>164.<br>165.<br>166.<br>167.<br>168.<br>169.<br>170.<br>171.<br>172.<br>173.<br>174.<br>175.<br>176.<br>177.<br>178.<br>179.<br>180.<br>181.<br>182.<br>183.<br>184.<br>185.<br>186.<br>187.<br>188.<br>189.<br>190.<br>191.<br>192.<br>193.<br>194.<br>195.<br>196.<br>197.<br>198.<br>199.<br>200.<br>201.<br>202.<br>203.<br>204.<br>205.<br>206.<br>207.<br>208.<br>209.<br>210.<br>211.<br>212.<br>213.<br>214.<br>215.<br>216.<br>217.<br>218.<br>219.<br>220.<br>221.<br>222.<br>223.<br>224.<br>225.<br>226.<br>227.<br>228.<br>229.<br>230.<br>231.<br>232.<br>233.<br>234.<br>235.<br>236.<br>237.<br>238.<br>239.<br>240.<br>241.<br>242.<br>243.<br>244.<br>245.<br>246.<br>247.<br>248.<br>249.<br>250.<br>251.<br>252.<br>253.<br>254.<br>255.<br>256.<br>257.<br>258.<br>259.<br>260.<br>261.<br>262.<br>263.<br>264.<br>265.<br>266.<br>267.<br>268.<br>269.<br>270.<br>271.<br>272.<br>273.<br>274.<br>275.<br>276.<br>277.<br>278.<br>279.<br>280.<br>281.<br>282.<br>283.<br>284.<br>285.<br>286.<br>287.<br>288.<br>289.<br>290.<br>291.<br>292.<br>293.<br>294.<br>295.<br>296.<br>297.<br>298.<br>299.<br>300.<br>301.<br>302.<br>303.<br>304.<br>305.<br>306.<br>307.<br>308.<br>309.<br>310.<br>311.<br>312.<br>313.<br>314.<br>315.<br>316.<br>317.<br>318.<br>319.<br>320.<br>321.<br>322.<br>323.<br>324.<br>325.<br>326.<br>327.<br>328.<br>329.<br>330.<br>331.<br>332.<br>333.<br>334.<br>335.<br>336.<br>337.<br>338.<br>339.<br>340.<br>341.<br>342.<br>343.<br>344.<br>345.<br>346.<br>347.<br>348.<br>349.<br>350.<br>351.<br>352.<br>353.<br>354.<br>355.<br>356.<br>357.<br>358.<br>359.<br>360.<br>361.<br>362.<br>363.<br>364.<br>365.<br>366.<br>367.<br>368.<br>369.<br>370.<br>371.<br>372.<br>373.<br>374.<br>375.<br>376.<br>377.<br>378.<br>379.<br>380.<br>381.<br>382.<br>383.<br>384.<br>385.<br>386.<br>387.<br>388.<br>389.<br>390.<br>391.<br>392.<br>393.<br>394.<br>395.<br>396.<br>397.<br>398.<br>399.<br>400.<br>401.<br>402.<br>403.<br>404.<br>405.<br>406.<br>407.<br>408.<br>409.<br>410.<br>411.<br>412.<br>413.<br>414.<br>415.<br>416.<br>417.<br>418.<br>419.<br>420.<br>421.<br>422.<br>423.<br>424.<br>425.<br>426.<br>427.<br>428.<br>429.<br>430.<br>431.<br>432.<br>433.<br>434.<br>435.<br>436.<br>437.<br>438.<br>439.<br>440.<br>441.<br>442.<br>443.<br>444.<br>445.<br>446.<br>447.<br>448.<br>449.<br>450.<br>451.<br>452.<br>453.<br>454.<br>455.<br>456.<br>457.<br>458.<br>459.<br>460.<br>461.<br>462.<br>463.<br>464.<br>465.<br>466.<br>467.<br>468.<br>469.<br>470.<br>471.<br>472.<br>473.<br>474.<br>475.<br>476.<br>477.<br>478.<br>479.<br>480.<br>481.<br>482.<br>483.<br>484.<br>485.<br>486.<br>487.<br>488.<br>489.<br>490.<br>491.<br>492.<br>493.<br>494.<br>495.<br>496.<br>497.<br>498.<br>499.<br>500.<br>501.<br>502.<br>503.<br>504.<br>505.<br>506.<br>507.<br>508.<br>509.<br>510.<br>511.<br></code_line></pre></td>
<td class='lines'><pre><code class="prettyprint">/* SPDX-License-Identifier: GPL-2.0 */
#if !defined(_TRACE_KVM_MAIN_H) || defined(TRACE_HEADER_MULTI_READ)
#define _TRACE_KVM_MAIN_H

#include &lt;linux/tracepoint.h&gt;

#undef TRACE_SYSTEM
#define TRACE_SYSTEM kvm

#define ERSN(x) { KVM_EXIT_##x, &quot;KVM_EXIT_&quot; #x }

#define kvm_trace_exit_reason						\
	ERSN(UNKNOWN), ERSN(EXCEPTION), ERSN(IO), ERSN(HYPERCALL),	\
	ERSN(DEBUG), ERSN(HLT), ERSN(MMIO), ERSN(IRQ_WINDOW_OPEN),	\
	ERSN(SHUTDOWN), ERSN(FAIL_ENTRY), ERSN(INTR), ERSN(SET_TPR),	\
	ERSN(TPR_ACCESS), ERSN(S390_SIEIC), ERSN(S390_RESET), ERSN(DCR),\
	ERSN(NMI), ERSN(INTERNAL_ERROR), ERSN(OSI), ERSN(PAPR_HCALL),	\
	ERSN(S390_UCONTROL), ERSN(WATCHDOG), ERSN(S390_TSCH), ERSN(EPR),\
	ERSN(SYSTEM_EVENT), ERSN(S390_STSI), ERSN(IOAPIC_EOI),          \
	ERSN(HYPERV), ERSN(ARM_NISV), ERSN(X86_RDMSR), ERSN(X86_WRMSR)

<yellow>TRACE_EVENT(kvm_userspace_exit,</yellow>
	    TP_PROTO(__u32 reason, int errno),
	    TP_ARGS(reason, errno),

	TP_STRUCT__entry(
		__field(	__u32,		reason		)
		__field(	int,		errno		)
	),

	TP_fast_assign(
		__entry-&gt;reason		= reason;
		__entry-&gt;errno		= errno;
	),

	TP_printk(&quot;reason %s (%d)&quot;,
		  __entry-&gt;errno &lt; 0 ?
		  (__entry-&gt;errno == -EINTR ? &quot;restart&quot; : &quot;error&quot;) :
		  __print_symbolic(__entry-&gt;reason, kvm_trace_exit_reason),
		  __entry-&gt;errno &lt; 0 ? -__entry-&gt;errno : __entry-&gt;reason)
);

<blue>TRACE_EVENT(kvm_vcpu_wakeup,</blue>
	    TP_PROTO(__u64 ns, bool waited, bool valid),
	    TP_ARGS(ns, waited, valid),

	TP_STRUCT__entry(
		__field(	__u64,		ns		)
		__field(	bool,		waited		)
		__field(	bool,		valid		)
	),

	TP_fast_assign(
		__entry-&gt;ns		= ns;
		__entry-&gt;waited		= waited;
		__entry-&gt;valid		= valid;
	),

	TP_printk(&quot;%s time %lld ns, polling %s&quot;,
		  __entry-&gt;waited ? &quot;wait&quot; : &quot;poll&quot;,
		  __entry-&gt;ns,
		  __entry-&gt;valid ? &quot;valid&quot; : &quot;invalid&quot;)
);

#if defined(CONFIG_HAVE_KVM_IRQFD)
<blue>TRACE_EVENT(kvm_set_irq,</blue>
	TP_PROTO(unsigned int gsi, int level, int irq_source_id),
	TP_ARGS(gsi, level, irq_source_id),

	TP_STRUCT__entry(
		__field(	unsigned int,	gsi		)
		__field(	int,		level		)
		__field(	int,		irq_source_id	)
	),

	TP_fast_assign(
		__entry-&gt;gsi		= gsi;
		__entry-&gt;level		= level;
		__entry-&gt;irq_source_id	= irq_source_id;
	),

	TP_printk(&quot;gsi %u level %d source %d&quot;,
		  __entry-&gt;gsi, __entry-&gt;level, __entry-&gt;irq_source_id)
);
#endif /* defined(CONFIG_HAVE_KVM_IRQFD) */

#if defined(__KVM_HAVE_IOAPIC)
#define kvm_deliver_mode		\
	{0x0, &quot;Fixed&quot;},			\
	{0x1, &quot;LowPrio&quot;},		\
	{0x2, &quot;SMI&quot;},			\
	{0x3, &quot;Res3&quot;},			\
	{0x4, &quot;NMI&quot;},			\
	{0x5, &quot;INIT&quot;},			\
	{0x6, &quot;SIPI&quot;},			\
	{0x7, &quot;ExtINT&quot;}

<blue>TRACE_EVENT(kvm_ioapic_set_irq,</blue>
	    TP_PROTO(__u64 e, int pin, bool coalesced),
	    TP_ARGS(e, pin, coalesced),

	TP_STRUCT__entry(
		__field(	__u64,		e		)
		__field(	int,		pin		)
		__field(	bool,		coalesced	)
	),

	TP_fast_assign(
		__entry-&gt;e		= e;
		__entry-&gt;pin		= pin;
		__entry-&gt;coalesced	= coalesced;
	),

	TP_printk(&quot;pin %u dst %x vec %u (%s|%s|%s%s)%s&quot;,
		  __entry-&gt;pin, (u8)(__entry-&gt;e &gt;&gt; 56), (u8)__entry-&gt;e,
		  __print_symbolic((__entry-&gt;e &gt;&gt; 8 &amp; 0x7), kvm_deliver_mode),
		  (__entry-&gt;e &amp; (1&lt;&lt;11)) ? &quot;logical&quot; : &quot;physical&quot;,
		  (__entry-&gt;e &amp; (1&lt;&lt;15)) ? &quot;level&quot; : &quot;edge&quot;,
		  (__entry-&gt;e &amp; (1&lt;&lt;16)) ? &quot;|masked&quot; : &quot;&quot;,
		  __entry-&gt;coalesced ? &quot; (coalesced)&quot; : &quot;&quot;)
);

<yellow>TRACE_EVENT(kvm_ioapic_delayed_eoi_inj,</yellow>
	    TP_PROTO(__u64 e),
	    TP_ARGS(e),

	TP_STRUCT__entry(
		__field(	__u64,		e		)
	),

	TP_fast_assign(
		__entry-&gt;e		= e;
	),

	TP_printk(&quot;dst %x vec %u (%s|%s|%s%s)&quot;,
		  (u8)(__entry-&gt;e &gt;&gt; 56), (u8)__entry-&gt;e,
		  __print_symbolic((__entry-&gt;e &gt;&gt; 8 &amp; 0x7), kvm_deliver_mode),
		  (__entry-&gt;e &amp; (1&lt;&lt;11)) ? &quot;logical&quot; : &quot;physical&quot;,
		  (__entry-&gt;e &amp; (1&lt;&lt;15)) ? &quot;level&quot; : &quot;edge&quot;,
		  (__entry-&gt;e &amp; (1&lt;&lt;16)) ? &quot;|masked&quot; : &quot;&quot;)
);

<blue>TRACE_EVENT(kvm_msi_set_irq,</blue>
	    TP_PROTO(__u64 address, __u64 data),
	    TP_ARGS(address, data),

	TP_STRUCT__entry(
		__field(	__u64,		address		)
		__field(	__u64,		data		)
	),

	TP_fast_assign(
		__entry-&gt;address	= address;
		__entry-&gt;data		= data;
	),

	TP_printk(&quot;dst %llx vec %u (%s|%s|%s%s)&quot;,
		  (u8)(__entry-&gt;address &gt;&gt; 12) | ((__entry-&gt;address &gt;&gt; 32) &amp; 0xffffff00),
		  (u8)__entry-&gt;data,
		  __print_symbolic((__entry-&gt;data &gt;&gt; 8 &amp; 0x7), kvm_deliver_mode),
		  (__entry-&gt;address &amp; (1&lt;&lt;2)) ? &quot;logical&quot; : &quot;physical&quot;,
		  (__entry-&gt;data &amp; (1&lt;&lt;15)) ? &quot;level&quot; : &quot;edge&quot;,
		  (__entry-&gt;address &amp; (1&lt;&lt;3)) ? &quot;|rh&quot; : &quot;&quot;)
);

#define kvm_irqchips						\
	{KVM_IRQCHIP_PIC_MASTER,	&quot;PIC master&quot;},		\
	{KVM_IRQCHIP_PIC_SLAVE,		&quot;PIC slave&quot;},		\
	{KVM_IRQCHIP_IOAPIC,		&quot;IOAPIC&quot;}

#endif /* defined(__KVM_HAVE_IOAPIC) */

#if defined(CONFIG_HAVE_KVM_IRQFD)

#ifdef kvm_irqchips
#define kvm_ack_irq_string &quot;irqchip %s pin %u&quot;
#define kvm_ack_irq_parm  __print_symbolic(__entry-&gt;irqchip, kvm_irqchips), __entry-&gt;pin
#else
#define kvm_ack_irq_string &quot;irqchip %d pin %u&quot;
#define kvm_ack_irq_parm  __entry-&gt;irqchip, __entry-&gt;pin
#endif

<yellow>TRACE_EVENT(kvm_ack_irq,</yellow>
	TP_PROTO(unsigned int irqchip, unsigned int pin),
	TP_ARGS(irqchip, pin),

	TP_STRUCT__entry(
		__field(	unsigned int,	irqchip		)
		__field(	unsigned int,	pin		)
	),

	TP_fast_assign(
		__entry-&gt;irqchip	= irqchip;
		__entry-&gt;pin		= pin;
	),

	TP_printk(kvm_ack_irq_string, kvm_ack_irq_parm)
);

#endif /* defined(CONFIG_HAVE_KVM_IRQFD) */



#define KVM_TRACE_MMIO_READ_UNSATISFIED 0
#define KVM_TRACE_MMIO_READ 1
#define KVM_TRACE_MMIO_WRITE 2

#define kvm_trace_symbol_mmio \
	{ KVM_TRACE_MMIO_READ_UNSATISFIED, &quot;unsatisfied-read&quot; }, \
	{ KVM_TRACE_MMIO_READ, &quot;read&quot; }, \
	{ KVM_TRACE_MMIO_WRITE, &quot;write&quot; }

<blue>TRACE_EVENT(kvm_mmio,</blue>
	TP_PROTO(int type, int len, u64 gpa, void *val),
	TP_ARGS(type, len, gpa, val),

	TP_STRUCT__entry(
		__field(	u32,	type		)
		__field(	u32,	len		)
		__field(	u64,	gpa		)
		__field(	u64,	val		)
	),

	TP_fast_assign(
		__entry-&gt;type		= type;
		__entry-&gt;len		= len;
		__entry-&gt;gpa		= gpa;
		__entry-&gt;val		= 0;
		if (val)
			memcpy(&amp;__entry-&gt;val, val,
			       min_t(u32, sizeof(__entry-&gt;val), len));
	),

	TP_printk(&quot;mmio %s len %u gpa 0x%llx val 0x%llx&quot;,
		  __print_symbolic(__entry-&gt;type, kvm_trace_symbol_mmio),
		  __entry-&gt;len, __entry-&gt;gpa, __entry-&gt;val)
);

#define kvm_fpu_load_symbol	\
	{0, &quot;unload&quot;},		\
	{1, &quot;load&quot;}

<yellow>TRACE_EVENT(kvm_fpu,</yellow>
	TP_PROTO(int load),
	TP_ARGS(load),

	TP_STRUCT__entry(
		__field(	u32,	        load		)
	),

	TP_fast_assign(
		__entry-&gt;load		= load;
	),

	TP_printk(&quot;%s&quot;, __print_symbolic(__entry-&gt;load, kvm_fpu_load_symbol))
);

#ifdef CONFIG_KVM_ASYNC_PF
<yellow>DECLARE_EVENT_CLASS(kvm_async_get_page_class,</yellow>

	TP_PROTO(u64 gva, u64 gfn),

	TP_ARGS(gva, gfn),

	TP_STRUCT__entry(
		__field(__u64, gva)
		__field(u64, gfn)
	),

	TP_fast_assign(
		__entry-&gt;gva = gva;
		__entry-&gt;gfn = gfn;
	),

	TP_printk(&quot;gva = %#llx, gfn = %#llx&quot;, __entry-&gt;gva, __entry-&gt;gfn)
);

<yellow>DEFINE_EVENT(kvm_async_get_page_class, kvm_try_async_get_page,</yellow>

	TP_PROTO(u64 gva, u64 gfn),

	TP_ARGS(gva, gfn)
);

<yellow>DEFINE_EVENT(kvm_async_get_page_class, kvm_async_pf_repeated_fault,</yellow>

	TP_PROTO(u64 gva, u64 gfn),

	TP_ARGS(gva, gfn)
);

<yellow>DECLARE_EVENT_CLASS(kvm_async_pf_nopresent_ready,</yellow>

	TP_PROTO(u64 token, u64 gva),

	TP_ARGS(token, gva),

	TP_STRUCT__entry(
		__field(__u64, token)
		__field(__u64, gva)
	),

	TP_fast_assign(
		__entry-&gt;token = token;
		__entry-&gt;gva = gva;
	),

	TP_printk(&quot;token %#llx gva %#llx&quot;, __entry-&gt;token, __entry-&gt;gva)

);

<yellow>DEFINE_EVENT(kvm_async_pf_nopresent_ready, kvm_async_pf_not_present,</yellow>

	TP_PROTO(u64 token, u64 gva),

	TP_ARGS(token, gva)
);

<yellow>DEFINE_EVENT(kvm_async_pf_nopresent_ready, kvm_async_pf_ready,</yellow>

	TP_PROTO(u64 token, u64 gva),

	TP_ARGS(token, gva)
);

<yellow>TRACE_EVENT(</yellow>
	kvm_async_pf_completed,
	TP_PROTO(unsigned long address, u64 gva),
	TP_ARGS(address, gva),

	TP_STRUCT__entry(
		__field(unsigned long, address)
		__field(u64, gva)
		),

	TP_fast_assign(
		__entry-&gt;address = address;
		__entry-&gt;gva = gva;
		),

	TP_printk(&quot;gva %#llx address %#lx&quot;,  __entry-&gt;gva,
		  __entry-&gt;address)
);

#endif

<yellow>TRACE_EVENT(kvm_halt_poll_ns,</yellow>
	TP_PROTO(bool grow, unsigned int vcpu_id, unsigned int new,
		 unsigned int old),
	TP_ARGS(grow, vcpu_id, new, old),

	TP_STRUCT__entry(
		__field(bool, grow)
		__field(unsigned int, vcpu_id)
		__field(unsigned int, new)
		__field(unsigned int, old)
	),

	TP_fast_assign(
		__entry-&gt;grow           = grow;
		__entry-&gt;vcpu_id        = vcpu_id;
		__entry-&gt;new            = new;
		__entry-&gt;old            = old;
	),

	TP_printk(&quot;vcpu %u: halt_poll_ns %u (%s %u)&quot;,
			__entry-&gt;vcpu_id,
			__entry-&gt;new,
			__entry-&gt;grow ? &quot;grow&quot; : &quot;shrink&quot;,
			__entry-&gt;old)
);

#define trace_kvm_halt_poll_ns_grow(vcpu_id, new, old) \
	trace_kvm_halt_poll_ns(true, vcpu_id, new, old)
#define trace_kvm_halt_poll_ns_shrink(vcpu_id, new, old) \
	trace_kvm_halt_poll_ns(false, vcpu_id, new, old)

<yellow>TRACE_EVENT(kvm_dirty_ring_push,</yellow>
	TP_PROTO(struct kvm_dirty_ring *ring, u32 slot, u64 offset),
	TP_ARGS(ring, slot, offset),

	TP_STRUCT__entry(
		__field(int, index)
		__field(u32, dirty_index)
		__field(u32, reset_index)
		__field(u32, slot)
		__field(u64, offset)
	),

	TP_fast_assign(
		__entry-&gt;index          = ring-&gt;index;
		__entry-&gt;dirty_index    = ring-&gt;dirty_index;
		__entry-&gt;reset_index    = ring-&gt;reset_index;
		__entry-&gt;slot           = slot;
		__entry-&gt;offset         = offset;
	),

	TP_printk(&quot;ring %d: dirty 0x%x reset 0x%x &quot;
		  &quot;slot %u offset 0x%llx (used %u)&quot;,
		  __entry-&gt;index, __entry-&gt;dirty_index,
		  __entry-&gt;reset_index,  __entry-&gt;slot, __entry-&gt;offset,
		  __entry-&gt;dirty_index - __entry-&gt;reset_index)
);

<yellow>TRACE_EVENT(kvm_dirty_ring_reset,</yellow>
	TP_PROTO(struct kvm_dirty_ring *ring),
	TP_ARGS(ring),

	TP_STRUCT__entry(
		__field(int, index)
		__field(u32, dirty_index)
		__field(u32, reset_index)
	),

	TP_fast_assign(
		__entry-&gt;index          = ring-&gt;index;
		__entry-&gt;dirty_index    = ring-&gt;dirty_index;
		__entry-&gt;reset_index    = ring-&gt;reset_index;
	),

	TP_printk(&quot;ring %d: dirty 0x%x reset 0x%x (used %u)&quot;,
		  __entry-&gt;index, __entry-&gt;dirty_index, __entry-&gt;reset_index,
		  __entry-&gt;dirty_index - __entry-&gt;reset_index)
);

<yellow>TRACE_EVENT(kvm_dirty_ring_exit,</yellow>
	TP_PROTO(struct kvm_vcpu *vcpu),
	TP_ARGS(vcpu),

	TP_STRUCT__entry(
	    __field(int, vcpu_id)
	),

	TP_fast_assign(
	    __entry-&gt;vcpu_id = vcpu-&gt;vcpu_id;
	),

	TP_printk(&quot;vcpu %d&quot;, __entry-&gt;vcpu_id)
);

<yellow>TRACE_EVENT(kvm_unmap_hva_range,</yellow>
	TP_PROTO(unsigned long start, unsigned long end),
	TP_ARGS(start, end),

	TP_STRUCT__entry(
		__field(	unsigned long,	start		)
		__field(	unsigned long,	end		)
	),

	TP_fast_assign(
		__entry-&gt;start		= start;
		__entry-&gt;end		= end;
	),

	TP_printk(&quot;mmu notifier unmap range: %#016lx -- %#016lx&quot;,
		  __entry-&gt;start, __entry-&gt;end)
);

<blue>TRACE_EVENT(kvm_set_spte_hva,</blue>
	TP_PROTO(unsigned long hva),
	TP_ARGS(hva),

	TP_STRUCT__entry(
		__field(	unsigned long,	hva		)
	),

	TP_fast_assign(
		__entry-&gt;hva		= hva;
	),

	TP_printk(&quot;mmu notifier set pte hva: %#016lx&quot;, __entry-&gt;hva)
);

<yellow>TRACE_EVENT(kvm_age_hva,</yellow>
	TP_PROTO(unsigned long start, unsigned long end),
	TP_ARGS(start, end),

	TP_STRUCT__entry(
		__field(	unsigned long,	start		)
		__field(	unsigned long,	end		)
	),

	TP_fast_assign(
		__entry-&gt;start		= start;
		__entry-&gt;end		= end;
	),

	TP_printk(&quot;mmu notifier age hva: %#016lx -- %#016lx&quot;,
		  __entry-&gt;start, __entry-&gt;end)
);

<yellow>TRACE_EVENT(kvm_test_age_hva,</yellow>
	TP_PROTO(unsigned long hva),
	TP_ARGS(hva),

	TP_STRUCT__entry(
		__field(	unsigned long,	hva		)
	),

	TP_fast_assign(
		__entry-&gt;hva		= hva;
	),

	TP_printk(&quot;mmu notifier test age hva: %#016lx&quot;, __entry-&gt;hva)
);

#endif /* _TRACE_KVM_MAIN_H */

/* This part must be outside protection */
#include &lt;trace/define_trace.h&gt;


</code></pre></td></tr></table>
</body>
</html>
